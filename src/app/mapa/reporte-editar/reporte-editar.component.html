<mat-card>
    <mat-card-content>
        <h2 class="example-h2">Edición de Reporte -- {{reporte.id}}</h2>
        <mat-tab-group class="demo-tab-group">
            <mat-tab label="Datos Generales">
                <ng-template mat-tab-label>
                    <mat-icon>assignment_ind</mat-icon>
                </ng-template>
                <div class="demo-tab-content">
                    <table width="100%">
                        <tr>
                            <td rowspan="4">
                                <img class="imgFoto" [src]="this.fotoMostrar | safehtml" alt="foto">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Usuario" disabled [value]="reporte.correo">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Nombre" disabled [value]="reporte.cUsuario">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Celular" disabled [value]="reporte.celular">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Domicilio" disabled [value]="reporte.domicilio">
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <mat-form-field class="example-full-width">
                                    <textarea matInput placeholder="Descripción" disabled [value]="reporte.descripcion" rows="2"></textarea>
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <button (click)="cerrarVentana()" mat-raised-button color="warn">Cerrar ventana</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </mat-tab>

            <mat-tab label="Estado y Mensajes">
                <ng-template mat-tab-label>
                    <mat-icon>chat</mat-icon>
                </ng-template>
                <div class="demo-tab-content">
                    <mat-form-field>
                        <mat-select [(value)]="reporte.estatus" placeholder="Estado" (selectionChange)="cambioEstado(  $event )">
                            <mat-option value="0">Nuevo</mat-option>
                            <mat-option value="1">Atendido</mat-option>
                            <mat-option value="2">Cerrado</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="demo-tab-content">
                    <mat-form-field class="example-full-width">
                        <textarea #resp matInput placeholder = "Respuesta" value="{{reporte.respuesta}}" rows="4"></textarea>
                    </mat-form-field>
                </div>
                <div class="demo-tab-content">
                    <button (click)="enviarRespuesta(resp.value)" mat-raised-button color="primary">Cambiar estado y enviar respuesta</button>
                </div>
                <div class="demo-tab-content">
                    <mat-progress-bar *ngIf="esperar" mode="indeterminate" color="warn"></mat-progress-bar>
                </div>
            </mat-tab>

            <mat-tab label="Historial del Mensajes">
                <ng-template mat-tab-label>
                    <mat-icon>history</mat-icon>
                </ng-template>
                <div class="demo-tab-content">
                    Historial de Mensajes
                    <mat-list>
                        <mat-list-item *ngFor="let respuesta of respuestas">
                            <span class="estatus estatus-{{respuesta.nEstatus}}"> {{respuesta.estatusclase}} </span>
                            <p matLine>
                                <span> {{respuesta.cRespuesta}} </span>
                            </p>
                            <p matLine>
                                <span> {{respuesta.dFechaCreacion}} </span>
                            </p>
                        </mat-list-item>
                    </mat-list>
                </div>
            </mat-tab>

        </mat-tab-group>
    </mat-card-content>
</mat-card>